"use strict";angular.module("mblowfish-core",["ngMaterial","ngAnimate","ngCookies","ngSanitize","ngRoute","seen-core","seen-tenant","am-wb-core","am-wb-common","am-wb-seen-core","am-wb-seen-monitors","lfNgMdFileInput","ngStorage","vcRecaptcha","infinite-scroll","nvd3","ng-appcache","ngFileSaver","mdSteppers","angular-material-persian-datepicker"]),angular.module("mblowfish-core").config(function(){}),angular.module("mblowfish-core").config(["$mdDateLocaleProvider",function(a){moment.locale("en");var b=moment.localeData();a.months=b._months,a.shortMonths=moment.monthsShort(),a.days=b._weekdays,a.shortDays=b._weekdaysMin,a.firstDayOfWeek=b._week.dow,a.parseDate=function(a){var b=moment(a,"L",!0);return b.isValid()?b.toDate():new Date(NaN)},a.formatDate=function(a){var b=moment(a);return b.isValid()?b.format("L"):""}}]),angular.module("mblowfish-core").config(["$routeProvider","$locationProvider",function(a,b){a.when("/initialization",{templateUrl:"views/mb-initial.html",controller:"MbInitialCtrl",protect:["$rootScope",function(a){return!a.app.user.owner}]}).when("/preferences",{templateUrl:"views/mb-preferences.html",controller:"MbPreferencesCtrl",helpId:"preferences",protect:["$rootScope",function(a){return!a.app.user.owner}]}).when("/preferences/:preferenceId",{templateUrl:"views/mb-preference.html",controller:"MbPreferenceCtrl",helpId:function(a){return"preference-"+a.params.preferenceId},protect:["$rootScope",function(a){return!a.app.user.owner}]}),b.html5Mode(!0)}]),angular.module("mblowfish-core").config(["$mdThemingProvider",function(a){a.definePalette("amdPrimaryPalette",{50:"#FFFFFF",100:"rgb(255, 198, 197)",200:"#E75753",300:"#E75753",400:"#E75753",500:"#E75753",600:"#E75753",700:"#E75753",800:"#E75753",900:"#E75753",A100:"#E75753",A200:"#E75753",A400:"#E75753",A700:"#E75753"}),a.theme("dark").primaryPalette("amdPrimaryPalette").dark(),a.alwaysWatchTheme(!0)}]),angular.module("mblowfish-core").controller("MbAccountCtrl",["$scope","$app","$navigator",function(a,b,c){function d(){c.openPage("dashboard")}function e(a){return j.loadUser?void 0:(j.loadUser=!0,b.login(a)["catch"](function(a){j.error=a})["finally"](function(){j.loadUser=!1}))}function f(){return j.loadUser?void 0:(j.loadUser=!0,$usr.session().then(function(a){setUser(a),j.loadUser=!1},function(a){j.error=a})["finally"](function(){j.loadUser=!1}))}function g(){return j.loadUser?void 0:(j.saveUser=!0,j.user.update().then(function(){j.saveUser=!1},function(a){j.error=a,j.saveUser=!1}))}function h(b){if(!j.changingPassword){j.changingPassword=!0;var c={old:b.oldPass,"new":b.newPass,password:b.newPass};a.app.user.current.newPassword(c).then(function(){a.logout()},function(a){alert("Fail to update password:"+a.data.message)})["finally"](function(){j.changingPassword=!1})}}function i(a){return j.user.newAvatar(a[0].lfFile).then(function(){$window.location.reload()},function(a){alert("Fail to update avatar:"+a.data.message)})}var j={changingPassword:!1};a.apds=[{key:"first_name",title:"First name",type:"string"},{key:"last_name",title:"Last name",type:"string"},{key:"language",title:"language",type:"string"},{key:"timezone",title:"timezone",type:"string"}],a.ctrl=j,a.login=e,a.logout=b.logout,a.goToDashboard=d,a.load=f,a.reload=f,a.saveUser=g,a.changePassword=h,a.updateAvatar=i}]),angular.module("mblowfish-core").controller("AmdDashboardCtrl",["$scope","$navigator","$app",function(a,b,c){function d(){a.editable=!a.editable}b.scopePath(a).add({title:"Dashboard",link:"#!/dashboard"}),c.scopeMenu(a).add({priority:15,icon:"edit",label:"Edit content",tooltip:"Toggle edit mode of the current contetn",visible:function(){return a.app.user.owner},action:d})}]),angular.module("mblowfish-core").controller("AmdGroupsResourceCtrl",["$scope","$usr","PaginatorParameter",function(a,b,c){function d(a){h.setQuery(a),f()}function e(){return"working"===j.status||i&&!i.hasMore()?void 0:(i&&h.setPage(i.next()),j.status="working",b.groups(h).then(function(a){i=a,j.items=j.items.concat(i.items),j.status="relax"},function(){j.status="fail"}))}function f(){return i=null,j.items=[],e()}function g(b){a.$parent.setValue(b.id)}var h=new c;h.setOrder("id","a");var i=null,j={state:"relax",items:[]};a.items=[],a.search=d,a.nextPage=e,a.ctrl=j,a.selectGroupId=g,a.paginatorParameter=h,a.reload=f,a.sortKeys=["id","name","description"]}]),angular.module("mblowfish-core").controller("MbHelpCtrl",["$scope","$rootScope","$route","$http","$translate","$mdUtil","$mdSidenav","$help",function(a,b,c,d,e,f,g,h){function i(a){if(a){var b=a.helpId;return angular.isFunction(b)&&(b=b(a)),angular.isDefined(b)||(b="not-found"),b}}function j(b){a.helpLoading;var c=i(b),f="fa"===e.use()?"fa":"en";return a.helpLoading=d.get("resources/helps/"+c+"-"+f+".json").then(function(b){a.helpContent=b.data,a.helpLoaded=!0})["finally"](function(){a.helpLoading=!1})}b.showHelp=!1,a.closeHelp=function(){b.showHelp=!1},a.$watch("showHelp",function(){return a.showHelp&&!a.helpLoaded?j():void 0}),a.$watch(function(){return h.currentItem()},function(b){return a.helpLoaded=!1,j(b)})}]),angular.module("mblowfish-core").controller("MbInitialCtrl",["$scope","$rootScope","$preferences","$mdStepper","$navigator",function(a,b,c,d,e){function f(a){var c=d("setting-stepper");return b.app.user.owner?void c["goto"](a):void c.error("You are not allowed")}function g(){var a=d("setting-stepper");return b.app.user.owner?void a.next():void a.error("You are not allowed")}function h(){var a=d("setting-stepper");a.back()}function i(){var b={id:"welcome",title:"Welcome",templateUrl:"views/preferences/welcome.html",controller:"MbAccountCtrl",description:"Welcome. Please login to continue.",icon:"accessibility",priority:"first",required:!0},e={id:"congratulate",templateUrl:"views/preferences/congratulate.html",title:":)",description:"Congratulation. Your site is ready.",icon:"favorite",priority:"last",required:!0};c.newPage(b),c.newPage(e),c.pages().then(function(b){a.settings=[],b.items.forEach(function(b){b.required&&a.settings.push(b)}),a.$watch(function(){var a=d("setting-stepper");return a.currentStep},function(b){a.settings&&0!==a.settings.length&&(a.pageId=a.settings[b].id)})})}var j=a.$watch(function(){return b.app.initial},function(a){a?i():a===!1&&j()});a.settings=[],a.nextStep=g,a.prevStep=h,a.goToStep=f}]),angular.module("mblowfish-core").controller("MessagesCtrl",["$scope","$usr","$monitor","PaginatorParameter",function(a,b,c,d){function e(a){return i.setQuery(a),h()}function f(){return"working"===k.status||j&&!j.hasMore()?void 0:(j&&i.setPage(j.next()),k.status="working",b.messages(i).then(function(a){j=a,k.items=k.items.concat(j.items),k.status="relax"},function(){k.status="fail"}))}function g(a){return a["delete"]().then(function(){var b=k.items.indexOf(a);b>-1&&k.items.splice(b,1),0===k.items.length&&h()})}function h(){return j=null,k.items=[],f()}var i=new d;i.setOrder("id","d");var j=null,k={state:"relax",items:[]};a.items=[],a.reload=h,a.search=e,a.nextMessages=f,a.remove=g,a.ctrl=k,a.pp=i;var l;c.monitor("message","count").then(function(a){l=a.watch(function(){h()})}),a.$on("$destroy",l),h()}]),angular.module("mblowfish-core").controller("AmdNavigatorDialogCtrl",["$scope","$mdDialog","config",function(a,b,c){a.config=c,a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.answer=function(a){b.hide(a)}}]),angular.module("mblowfish-core").controller("AmdNavigatorCtrl",["$scope","$navigator","$route",function(a,b,c){function d(){var d=[];angular.forEach(c.routes,function(a,b){a.navigate&&(a.type="link",a.link=a.originalPath,a.title=a.title||a.name||"no-name",a.priority=a.priority||100,d.push(a))}),angular.forEach(b.items(),function(a){d.push(a)}),a.menuItems={hiden:!1,sections:[]};var e=[];angular.forEach(d,function(c){c.groups?angular.forEach(c.groups,function(d){var f=b.group(d);f.id in e||(e[f.id]=angular.extend({type:"toggle",sections:[]},f),a.menuItems.sections.push(e[f.id])),e[f.id].sections.push(c)}):a.menuItems.sections.push(c)})}d()}]),angular.module("mblowfish-core").controller("MbOptionsCtrl",["$scope","$options",function(a,b){b.pages().then(function(b){a.tabs=b.items})}]),angular.module("mblowfish-core").controller("MbPreferenceCtrl",["$scope","$routeParams","$navigator","$preferences",function(a,b,c,d){d.page(b.preferenceId).then(function(b){a.preference=b},function(){c.openPage("preferences")}),a.preferenceId=b.preferenceId}]),angular.module("mblowfish-core").controller("MbPreferencesCtrl",["$scope","$preferences",function(a,b){function c(a){b.openPage(a.page)}b.pages().then(function(b){a.preferenceTiles=[];for(var c=0;c<b.items.length;c++)a.preferenceTiles.push({colspan:1,rowspan:1,page:b.items[c]})}),a.openPreference=c}]),angular.module("mblowfish-core").controller("AmdRolesResourceCtrl",["$scope","$usr","PaginatorParameter",function(a,b,c){function d(a){return h.setQuery(a),f()}function e(){return"working"===j.status||i&&!i.hasMore()?void 0:(i&&h.setPage(i.next()),j.status="working",b.roles(h).then(function(a){i=a,j.items=j.items.concat(i.items),j.status="relax"},function(){j.status="fail"}))}function f(){return i=null,j.items=[],e()}function g(b){a.$parent.setValue(b.id)}var h=new c;h.setOrder("id","a");var i=null,j={state:"relax",items:[]};a.items=[],a.reload=f,a.search=d,a.nextPage=e,a.ctrl=j,a.selectRoleId=g,a.paginatorParameter=h,a.sortKeys=["id","name"]}]),angular.module("mblowfish-core").controller("MbThemesCtrl",["$scope","$mdTheming",function(a,b){a.themes=[],angular.forEach(b.THEMES,function(b,c){a.themes.push({id:c,label:b.name})})}]),angular.module("mblowfish-core").controller("MbToolbarDashboardCtrl",["$scope","$actions","$mdSidenav",function(a,b,c){function d(){c("navigator").toggle()}a.toolbarMenu=b.group("mb.toolbar.menu"),a.toggleNavigationSidenav=d}]),angular.module("mblowfish-core").controller("AmdUsersResourceCtrl",["$scope","$usr","PaginatorParameter",function(a,b,c){function d(){return"working"===i.status||h&&!h.hasMore()?void 0:(h&&g.setPage(h.next()),i.status="working",b.users(g).then(function(a){h=a,i.items=i.items.concat(h.items),i.status="relax"},function(){i.status="fail"}))}function e(){return h=null,i.items=[],d()}function f(b){a.$parent.setValue(b.id)}var g=new c;g.setOrder("id","d");var h=null,i={state:"relax",items:[]};a.items=[],a.nextPage=d,a.ctrl=i,a.selectUserId=f,a.paginatorParameter=g,a.reload=e,a.sortKeys=["id","login","first_name","last_name","last_login","date_joined"]}]),angular.module("mblowfish-core").directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,d){d.$validators.compareTo=function(b){return b===a.otherModelValue},a.$watch("otherModelValue",function(){d.$validate()})}}}),angular.module("mblowfish-core").directive("mbBadge",["$mdTheming","$rootScope",function(a,b){function c(c){var d=(c||"").split("-");d.length<2&&d.push("500");var e=d[1]||"800",f=d[0]||"primary",g=a.THEMES[b.app.setting.theme||b.app.config.theme||"default"];"undefined"==typeof g&&(g=a.THEMES["default"]);var h=g.colors[f]?g.colors[f].name:f,i=a.PALETTES[h][e]?a.PALETTES[h][e].value:a.PALETTES[h][500].value;return"rgb("+i.join(",")+")"}function d(b,d,e){function f(a,b){b&&d.css(a,c(b))}a(d),b.$watch(function(){return e.mbBadgeColor},function(a){f("color",a)}),b.$watch(function(){return e.mbBadgeFill},function(a){f("background-color",a)})}return{restrict:"E",replace:!0,transclude:!0,link:d,template:function(a,b){return'<div class="mb-badge" ng-transclude></div>'}}}]),angular.module("mblowfish-core").directive("mbBadge",["$mdTheming","$mdColors","$timeout","$window","$compile","$rootScope",function(a,b,c,d,e,f){function g(b){var c=(b||"").split("-");c.length<2&&c.push("500");var d=c[1]||"800",e=c[0]||"primary",g=a.THEMES[f.app.setting.theme||f.app.config.theme||"default"];"undefined"==typeof g&&(g=a.THEMES["default"]);var h=g.colors[e]?g.colors[e].name:e,i=a.PALETTES[h][d]?a.PALETTES[h][d].value:a.PALETTES[h][500].value;return"rgb("+i.join(",")+")"}function h(b,c,d){function f(a,b){b&&m.css(a,g(b))}function h(){return{top:c.prop("offsetTop"),left:c.prop("offsetLeft"),width:c.prop("offsetWidth"),height:c.prop("offsetHeight")}}function i(a){var b=c.prop("offsetTop");m.css({display:d.mbBadge&&b?"initial":"none",left:a.left+a.width-20+n+"px",top:a.top+a.height-20+n+"px"})}a(c);var j=c.parent(),k=angular.element("<div></div>"),l=e(k),m=l(b),n=parseInt(d.mdBadgeOffset);isNaN(n)&&(n=10),m.addClass("mb-badge"),m.css("position","absolute"),j.append(m),b.$watch(function(){return d.mbBadgeColor},function(a){f("color",a)}),b.$watch(function(){return d.mbBadgeFill},function(a){f("background-color",a)}),b.$watch(function(){return d.mbBadge},function(a){m.text(a),m.css("display",a?"initial":"none")}),b.$watch(h,function(a){i(a)},!0)}return{priority:100,restrict:"A",link:h}}]),angular.module("mblowfish-core").directive("mbCaptcha",function(){function a(a,b,c,d){function e(){f&&f.$setValidity("captcha",a.required===!1?null:Boolean(a.response))}var f=d[0];d[1];f&&angular.isDefined(c.required)&&a.$watch("required",e),a._response=null,a.$watch("_response",function(){a.response=a._response}),a.$watch("response",function(){a._response=a.response})}return{restrict:"E",require:["?^^form"],templateUrl:"views/directives/mb-captcha.html",scope:{response:"=?ngModel"},link:a}}),angular.module("mblowfish-core").directive("mbDatepicker",["$mdUtil","$rootScope",function(a,b){function c(c,d,e,f){function g(){if(!i.$modelValue)return void(c.date=null);var a=moment.utc(i.$modelValue).local();return a.isValid()?void(c.date=a):void 0}function h(){if(!c.date)return void i.$setViewValue(null);var a=moment(c.date).utc().format("YYYY-MM-DD HH:mm:ss");i.$setViewValue(a)}c.app=b.app;var i=f[0]||a.fakeNgModel();i.$render=g,c.$watch("date",h)}return{replace:!1,template:function(){return"Gregorian"===b.app.calendar?'<md-datepicker ng-model="date" md-hide-icons="calendar" md-placeholder="{{placeholder || \'Enter date\'}}"></md-datepicker>':'<md-persian-datepicker ng-model="date" md-hide-icons="calendar" md-placeholder="{{placeholder || \'Enter date\'}}"></md-persian-datepicker>'},restrict:"E",scope:{minDate:"=mbMinDate",maxDate:"=mbMaxDate",placeholder:"@mbPlaceholder",hideIcons:"@?mbHideIcons"},require:["ngModel"],priority:210,link:c}}]),angular.module("mblowfish-core").directive("mbDynamicTabs",["$wbUtil","$q","$rootScope","$compile","$controller",function(a,b,c,d,e){function f(a,b){return b}function g(g,i,j){function k(j){var k=[],l=[],m=i.find("#"+h);m.empty();var n=g.mbTabs[j],o=a.getTemplateFor(n);angular.isDefined(o)&&k.push(o.then(function(a){a=f(n,a);var b=angular.element(a),h=c.$new(!1,g);h.page=n,h.value=g.value,angular.isDefined(n.controller)&&e(n.controller,{$scope:h,$element:b}),d(b)(h),l.push(b)})),b.all(k).then(function(){angular.forEach(l,function(a){m.append(a)})})}g.$watch("pageIndex",function(a){a>=0&&k(a)})}var h="mb-dynamic-tabs-select-resource-children";return{restrict:"E",replace:!0,scope:{mbTabs:"="},templateUrl:"views/directives/mb-dynamic-tabs.html",link:g}}]),angular.module("mblowfish-core").directive("mbErrorMessages",["$compile","$interpolate",function(a,b){function c(b,c){var d=null;b.errorMessages=function(a){if(a){var b={};return b[a.status]=a.statusText,b[a.data.code]=a.data.message,b}},b.$watch(function(){return b.mbErrorMessages},function(e){if(e){var f='<div ng-messages="errorMessages(mbErrorMessages)" role="alert" multiple>	<div ng-messages-include="views/mb-error-messages.html"></div></div>',g=angular.element(f),h=a(g),i=h(b);d=c.replaceWith(i)}else d&&(c.replaceWith(d),d=null)})}return{restrict:"A",scope:{mbErrorMessages:"="},link:c}}]),angular.module("mblowfish-core").directive("mbInfinateScroll",["$parse",function(a){function b(b,c,d){c.addClass("mb-infinate-scroll"),c.on("scroll",function(e){var f=c[0];f.scrollTop+f.offsetHeight+5>=f.scrollHeight&&a(d.mbInfinateScroll)(b)}),a(d.mbInfinateScroll)(b)}return{restrict:"A",link:b}}]),angular.module("mblowfish-core").directive("mbNavigationBar",["$actions","$navigator",function(a,b){function c(c,d,e){c.isVisible=function(a){return angular.isUndefined(a.visible)?!0:angular.isFunction(a.visible)?a.visible():a.visible},c.goToHome=function(){b.openPage("")},c.pathMenu=a.group("navigationPathMenu")}return{restrict:"E",replace:!1,templateUrl:"views/directives/mb-navigation-bar.html",link:c}}]),angular.module("mblowfish-core").directive("mbPaginationBar",function(){function a(a,b,c){function d(){angular.isFunction(a.mbReload)&&a.mbReload(a.mbModel)}function e(){angular.isFunction(a.mbExport)&&a.mbExport(a.mbModel)}function f(b){a.mbModel.setQuery(b),a.mbReload()}function g(){a.mbModel&&(a.mbModel.sortMap={},a.mbModel.filterMap={},a.mbModel.setOrder(h.sortBy,h.sortDesc?"d":"a"),a.mbModel.setQuery(h.searchTerm))}var h={sortDesc:!0,sortBy:"undefined"==typeof a.mbSortKeys?"id":a.mbSortKeys[0],searchTerm:null};a.search=f,a.query=h,angular.isFunction(a.mbReload)&&(a.reload=d),angular.isFunction(a.mbExport)&&(a.exportData=e),"undefined"==typeof a.mbEnableSearch&&(a.mbEnableSearch=!0),a.$watch("mbModel",function(){g()}),a.$watch("query",function(){g(),d()},!0)}return{restrict:"E",templateUrl:"views/directives/mb-pagination-bar.html",scope:{mbModel:"=",mbReload:"=",mbExport:"=",mbSortKeys:"=",mbMoreActions:"=",mbTitle:"@?",mbIcon:"@?",mbEnableSearch:"=?"},link:a}}),angular.module("mblowfish-core").directive("mbPanelSidenavAnchor",["$route","$rootScope","$app","$mdSidenav","$q","$widget","$controller","$compile",function(a,b,c,d,e,f,g,h){function i(a,c,e,i){var j=a.$new(!1,a);return j=Object.assign(j,{app:b.app,_page:c,_visible:function(){if(angular.isFunction(this._page.visible)){var a=this._page.visible(this);return a?d(this._page.id).open():d(this._page.id).close(),a}return!0}}),f.getTemplateFor(c).then(function(a){var b=angular.element(e+a+i),d=h(b);if(angular.isDefined(c.controller)){var f={$scope:j,$element:b},k=g(c.controller,f);c.controllerAs&&(j[c.controllerAs]=k),b.data("$ngControllerController",k)}return{element:d(j),page:c}})}function j(b,d,f){function g(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=!1,f=0;f<a.length;f++)if(a[f].id===b[d].page.id){e=!0;break}e?(b[d].element.detach(),b[d].cached=!0,c.push(b[d])):b[d].element.remove()}return c}function h(a){for(var c=0;c<l.length;c++)if(l[c].page.id==a.id)return e.when(l[c]);return i(b,a,"<md-sidenav md-theme=\"{{app.setting.theme || app.config.theme || 'default'}}\" md-theme-watch md-component-id=\"{{_page.id}}\" md-is-locked-open=\"_visible() && (_page.locked && $mdMedia('gt-sm'))\" md-whiteframe=\"2\" ng-class=\"{'md-sidenav-left': app.dir=='rtl',  'md-sidenav-right': app.dir!='rtl'}\" layout=\"column\">","</md-sidenav>").then(function(a){l.push(a)})}function j(a){l=g(a,l);for(var b=[],c=0;c<a.length;c++)b.push(h(a[c]));e.all(b).then(function(){var a=d;l.sort(function(a,b){return(a.page.priority||10)>(b.page.priority||10)});for(var b=0;b<l.length;b++){var c=l[b];c.chached||("start"===c.page.position?a.prepend(c.element):a.append(c.element))}})}function k(){if(angular.isDefined(a.current)){var b=a.current.sidenavs||c.defaultSidenavs();b=b.slice(0),b.push("settings"),b.push("help");var d=[],f=[];angular.forEach(b,function(a){f.push(c.sidenav(a).then(function(a){d.push(a)}))}),e.all(f).then(function(){j(d)})}}var l=[];b.$watch(function(){return a.current},k)}return{restrict:"A",priority:601,link:j}}]),angular.module("mblowfish-core").directive("mbPanelToolbarAnchor",["$navigator","$usr","$route","$window","$rootScope","$app","$translate","$http","$mdSidenav","$mdBottomSheet","$q","$widget","$controller","$compile",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a,b,c,d){var f=a.$new(!1,a);return f=Object.assign(f,{app:e.app,_page:b,_visible:function(){if(angular.isFunction(this._page.visible)){var a=this._page.visible(this);return a}return!0}}),l.getTemplateFor(b).then(function(a){var e=angular.element(c+a+d),g=n(e);if(angular.isDefined(b.controller)){var h={$scope:f,$element:e},i=m(b.controller,h);b.controllerAs&&(f[b.controllerAs]=i),e.data("$ngControllerController",i)}return{element:g(f),page:b}})}function p(a,b,d){function e(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=!1,f=0;f<a.length;f++)if(a[f].id===b[d].page.id){e=!0;break}e?(b[d].element.detach(),b[d].cached=!0,c.push(b[d])):b[d].element.remove()}return c}function g(b){for(var c=0;c<j.length;c++)if(j[c].page.id==b.id)return k.when(j[c]);var d=b.raw?"":'<md-toolbar md-theme="{{app.setting.theme || app.config.theme || \'default\'}}" md-theme-watch layout="column" layout-gt-xs="row" layout-align="space-between stretch">',e=b.raw?"":"</md-toolbar>";return o(a,b,d,e).then(function(a){j.push(a)})}function h(a){j=e(a,j);for(var c=[],d=0;d<a.length;d++)c.push(g(a[d]));k.all(c).then(function(){var a=b;j.sort(function(a,b){return(a.page.priority||10)>(b.page.priority||10)});for(var c=0;c<j.length;c++){var d=j[c];d.chached||a.prepend(d.element)}})}function i(){if(c.current){var a=c.current.toolbars||f.defaultToolbars();if(angular.isArray(a)){var b=[],d=[];angular.forEach(a,function(a){d.push(f.toolbar(a).then(function(a){b.push(a)}))}),k.all(d).then(function(){h(b)})}}}var j=[];a.$watch(function(){return c.current},i)}return{restrict:"A",link:p}}]),angular.module("mblowfish-core").directive("mbPanel",["$navigator","$usr","$route","$window","$rootScope","$app","$translate","$http","$mdSidenav","$mdBottomSheet","$q","$actions","$injector",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){if(!a.protect)return!1;if(angular.isFunction(a.protect)){var b=m.invoke(a.protect,a);return b}return a.protect&&e.app.user.anonymous}function o(a,b,d){var f=new machina.Fsm({initialize:function(b){a.status=this.initialState},namespace:"mb-panel-controller",initialState:"loading",states:{ready:{routeChange:function(a){return a.protect&&n(a)?void this.transition("accessDenied"):void 0},appStateChange:function(a){this.getRoute().protect?this.transition("login"):this.transition("readyAnonymous")}},accessDenied:{routeChange:function(a){a.protect&&n(a)||this.transition("ready")},appStateChange:function(a){this.transition("login")}},readyAnonymous:{routeChange:function(a){a.protect&&this.transition("login")},appStateChange:function(a){this.transition("ready")}},loading:{appStateChange:function(a){if("loading"!==a){var b=this.getRoute();return"ready"!==a?void(b.protect?this.transition("login"):this.transition("readyAnonymous")):b.protect&&n(b)?void this.transition("accessDenied"):void this.transition("ready")}}},login:{routeChange:function(a){return a.protect?void 0:void this.transition("readyAnonymous")},appStateChange:function(a){return"ready"===a&&n(this.getRoute())?void this.transition("accessDenied"):void this.transition("ready")}}},routeChange:function(a){this.currentRoute=a,a&&this.handle("routeChange",a)},appStateChange:function(a){this.appState=a,this.handle("appStateChange",a)},getRoute:function(){return this.currentRoute||c.current},getState:function(){return this.appState||e.app.state.status}});f.on("transition",function(){return f.state.startsWith("ready")?void(a.status="ready"):void(a.status=f.state)}),a.$watch(function(){return c.current},function(a){if(l.group("navigationPathMenu").clear(),a){if(f.routeChange(a.$$route),angular.isFunction(a.$$route.integerate)){m.invoke(a.$$route.integerate,a.$$route)}}else f.routeChange(a)}),a.$watch("app.state.status",function(a){f.appStateChange(a)}),f.appStateChange(e.app.state.status)}return{restrict:"E",replace:!0,templateUrl:"views/directives/mb-panel.html",link:o}}]),angular.module("mblowfish-core").directive("mbPreferencePage",["$compile","$controller","$preferences","$widget","$rootScope",function(a,b,c,d,e){function f(c,f,g){var h=c.$new(!1,c);h.app=e.app,d.getTemplateFor(f).then(function(c){var d=angular.element("<div md-theme=\"{{app.setting.theme || app.config.theme || 'default'}}\" md-theme-watch >"+c+"</div>"),e=a(d);if(angular.isDefined(f.controller)){var i={$scope:h,$element:d},j=b(f.controller,i);f.controllerAs&&(h[f.controllerAs]=j),d.data("$ngControllerController",j)}g.empty(),g.append(e(h))})}function g(a,b,d){var e=b.children(h).children(i);a.$watch("mbPreferenceId",function(b){b&&c.page(b).then(function(b){f(a,b,e)},function(){})})}var h="div#mb-preference-body",i="div#mb-preference-placeholder";return{restrict:"E",templateUrl:"views/directives/mb-preference-page.html",replace:!0,scope:{mbPreferenceId:"="},link:g}}]),angular.module("mblowfish-core").directive("mbPreloading",["$animate",function(a){function b(a,b,c){b.addClass(h)}function c(a,b,c){b.removeClass(g),b.removeClass(f)}function d(a,b,c){b.addClass(g),b.addClass(f)}function e(a,e,f){b(a,e,f),a.$watch(f.mbPreloading,function(b){b?d(a,e,f):c(a,e,f)})}var f="mb-preload",g="mb-preload-box",h="mb-preload-animate";return{restrict:"A",link:e}}]),angular.module("mblowfish-core").directive("mbTitledBlock",function(){return{replace:!0,restrict:"E",transclude:!0,scope:{mbTitle:"@?",mbIcon:"@?",mbProgress:"<?"},templateUrl:"views/directives/mb-titled-block.html"}}),angular.module("mblowfish-core").directive("mbTreeHeading",["$animate",function(a){return{restrict:"E",replace:!0,scope:{mbSection:"="},templateUrl:"views/directives/mb-tree-heading.html",link:function(a,b,c){},controller:["$scope",function(a){}]}}]),angular.module("mblowfish-core").directive("mbTreeLink",["$animate",function(a){return{restrict:"E",scope:{mbSection:"="},templateUrl:"views/directives/mb-tree-link.html",link:function(a,b,c){},controller:["$scope","$navigator",function(a,b){a.isSelected=function(a){return a&&b.isPageSelected(a.link)},a.focusSection=function(a){return b.openPage(a.link)}}]}}]),angular.module("mblowfish-core").directive("mbTreeToggle",["$timeout","$animateCss","$mdSidenav","$mdMedia","$rootScope",function(a,b,c,d,e){return{restrict:"E",replace:!0,scope:{mbSection:"="},templateUrl:"views/directives/mb-tree-toggle.html",link:function(c,d,e,f){function g(a){b(h,{from:{height:a?0:i()+"px"},to:{height:a?i()+"px":0},duration:.3}).start()}var h=d.find("ul"),i=function(){var a;return h.addClass("no-transition"),h.css("height",""),a=h.prop("clientHeight"),h.css("height",0),h.removeClass("no-transition"),a};return h?void c.$watch(function(){return f.isOpen(c.mbSection)},function(b){a(function(){g(b)},0,!1)}):console.warn("mb-tree: `menuToggle` cannot find ul element")},controller:["$scope",function(a){function b(a){return f===a}function c(a){f=f===a?null:a}function d(a){return a.hidden?!e.$eval(a.hidden):!0}var f=null;angular.isFunction(a.$parent.isOpen)?(a.isOpen=a.$parent.isOpen,a.toggle=a.$parent.toggle):(a.isOpen=b,a.toggle=c),this.isOpen=a.isOpen,a.isVisible=d}]}}]),angular.module("mblowfish-core").directive("mbTree",["$animate","$rootScope",function(a,b){return{restrict:"E",replace:!0,scope:{mbSection:"="},templateUrl:"views/directives/mb-tree.html",link:function(a,b,c){},controller:["$scope",function(a){function c(a){return a.hidden?!b.$eval(a.hidden):!0}function d(a){return f===a}function e(a){f=f===a?null:a}var f=null;a.isOpen=d,a.toggle=e,a.isVisible=c}]}}]),angular.module("mblowfish-core").directive("mbUserMenu",["$actions","$app","$mdSidenav",function(a,b,c){function d(d,e,f){d.menu=a.group("mb.user"),d.logout=b.logout,d.settings=function(){return c("settings").toggle()}}return{restrict:"E",replace:!0,scope:!0,templateUrl:"views/directives/mb-user-menu.html",link:d,controller:"MbAccountCtrl"}}]),angular.module("mblowfish-core").directive("mbUserToolbar",["$actions",function(a){return{restrict:"E",replace:!0,templateUrl:"views/directives/mb-user-toolbar.html",link:function(b,c,d,e){b.menu=a.group("mb.user")},controller:"MbAccountCtrl"}}]),angular.module("mblowfish-core").factory("Action",function(){var a=function(a){return angular.isDefined(a)||(a={}),angular.extend(this,a,{priority:a.priority||10}),this.visible=this.visible||function(){return!0},this};return a.prototype.exec=function(a){this.action&&(this.action(),a&&a.stopPropagation())},a}),angular.module("mblowfish-core").factory("ActionGroup",function(){var a=function(a){angular.isDefined(a)||(a={}),angular.extend(this,a,{priority:a.priority||10,items:[]})};return a.prototype.clear=function(){this.items=[]},a}),angular.module("mblowfish-core").filter("mbDate",["$rootScope",function(a){return function(b,c){if(!b)return"";try{var d=c||a.app.setting.dateFormat||a.app.config.dateFormat||"jYYYY-jMM-jDD hh:mm:ss";"Jalaali"!==a.app.calendar&&(d=d.replace("j",""));var e=moment.utc(b).local();return e.format(d)}catch(f){return"-"+f.message}}}]),angular.module("mblowfish-core").run(["$notification","$help",function(a,b){window.openHelp=function(a){return b.openHelp(a)},window.alert=a.alert,window.confirm=a.confirm,window.prompt=a.prompt,window.toast=a.toast}]),angular.module("mblowfish-core").run(["$app","$rootScope","$navigator","$route","$mdSidenav","$actions",function(a,b,c,d,e,f){f.newAction({id:"mb.preferences",priority:15,icon:"settings",title:"Preferences",description:"Open preferences panel",visible:function(){return b.app.user.owner},action:function(){return c.openPage("/preferences")},groups:["mb.toolbar.menu"]}),f.newAction({id:"mb.help",priority:15,icon:"help",title:"Help",description:"Display help in sidenav",visible:function(){return!!d.current.helpId},action:function(){b.showHelp=!b.showHelp},groups:["mb.toolbar.menu"]}),a.newToolbar({id:"dashboard",title:"Dashboard toolbar",description:"Main dashboard toolbar",controller:"MbToolbarDashboardCtrl",templateUrl:"views/toolbars/mb-dashboard.html"}),a.newSidenav({id:"navigator",title:"Navigator",description:"Navigate all path and routs of the pandel",controller:"AmdNavigatorCtrl",templateUrl:"views/sidenavs/mb-navigator.html",locked:!0,position:"start"}),a.newSidenav({id:"help",title:"Help",description:"System online help",controller:"MbHelpCtrl",templateUrl:"views/sidenavs/mb-help.html",locked:!0,visible:function(){return b.showHelp},position:"end"}),a.newSidenav({id:"settings",title:"Options",description:"User options",controller:"MbOptionsCtrl",templateUrl:"views/sidenavs/mb-options.html",locked:!1,position:"end"})}]),angular.module("mblowfish-core").run(["appcache","$window","$app",function(a,b,c){a.checkUpdate().then(function(){a.swapCache().then(function(){return c.config("update")}).then(function(a){void 0!==a&&a.hideMessage?b.location.reload():confirm("Application is updated. Reload for new version?").then(function(){b.location.reload()})})})}]),angular.module("mblowfish-core").run(["$rootScope","$saas",function(a,b){a.app.captcha={},a.$watch("app.state.status",function(c){"loading"===c&&b.setting("captcha.engine").then(function(c){a.app.captcha.engine=c.value,"recaptcha"===c.value&&(a.app.captcha.recaptcha={},b.setting("captcha.engine.recaptcha.key").then(function(b){a.app.captcha.recaptcha.key=b.value}))})})}]),angular.module("mblowfish-core").run(["$window","$rootScope","$location","$app",function(a,b,c,d){a.ga&&b.$watch("app.config.googleAnalytic.property",function(d){d&&(a.ga("create",d,"auto"),b.$on("$routeChangeStart",function(){a.ga("send","pageview",c.path())}))})}]),angular.module("mblowfish-core").run(["$app","$rootScope","$navigator",function(a,b,c){var d=b.$watch(function(){return b.app.initial},function(a){a?c.openPage("initialization"):a===!1&&d()})}]),angular.module("mblowfish-core").run(["$help","$rootScope","$route",function(a,b,c){b.$watch(function(){return c.current},function(b){a.setCurrentItem(b)})}]),angular.module("mblowfish-core").run(["$options","$preferences",function(a,b){b.newPage({id:"local",title:"local",description:"manage dashboard locality and language.",templateUrl:"views/preferences/mb-local.html",icon:"language",tags:["local","language"]}).newPage({id:"brand",title:"Branding",description:"Manage application branding such as title, logo and descritpions.",templateUrl:"views/preferences/mb-brand.html",icon:"copyright",priority:2,required:!0,tags:["brand"]}).newPage({id:"google-analytic",title:"Google Analytic",templateUrl:"views/preferences/mb-google-analytic.html",description:"Enable google analytic for your application.",icon:"timeline",
tags:["analysis"]}).newPage({id:"update",templateUrl:"views/preferences/update.html",title:"Update application",description:"Settings of updating process and how to update the application.",icon:"autorenew"}),a.newPage({title:"Local",templateUrl:"views/options/mb-local.html",tags:["local"]}),a.newPage({title:"Theme",controller:"MbThemesCtrl",templateUrl:"views/options/mb-theme.html",tags:["theme"]})}]),angular.module("mblowfish-core").run(["$rootScope","$localStorage",function(a,b){a.app.setting=b.$default({dashboardModel:{}})}]),angular.module("mblowfish-core").service("$actions",["Action","ActionGroup",function(a,b){function c(){return{items:j}}function d(b){var c=new a(b);k[c.id]=c,j.push(c);for(var d=0;d<c.groups.length;d++){var e=i(c.groups[d]);e.items.push(c)}return c.scope&&c.scope.$on("$destroy",function(){f(c)}),c}function e(a){var b=k[a];return b?b:void 0}function f(a){k[a.id]=null;var b=j.indexOf(a);if(b>-1){j.splice(b,1);for(var c=0;c<a.groups.length;c++){var d=i(a.groups[c]),e=d.items.indexOf(a);e>-1&&d.items.splice(e,1)}return a}}function g(){return{items:l}}function h(a){return i(a.id,a)}function i(a,c){var d=m[a];return d||(d=new b,d.id=a,m[d.id]=d,l.push(d)),c&&angular.extend(d,c),d}var j=[],k={},l=[],m=[];return{actions:c,newAction:d,action:e,removeAction:f,groups:g,newGroup:h,group:i}}]),angular.module("mblowfish-core").service("$app",["$rootScope","$usr","$monitor","$actions","$q","$cms","$translate","$mdDateLocale",function(a,b,c,d,e,f,g,h){function i(a,b){return e.when(L.config[a]||b)}function j(a,b){return $timeout(function(){return L.config[a]=b},1)}function k(){return w("loading configuration","fetch configuration document"),f.content(J+L.key).then(function(a){return L._acc=a,L.initial=!1,w("loading configuration","fetch configuration content"),L._acc.value()},function(a){return a.status&&"404"==a.status&&(L.initial=!0),{}}).then(function(a){L.config=a,w("loading configuration","application configuration loaded successfully")})["catch"](function(a){w("loading configuration","warning: "+a.message)})}function l(){if(!L.user.owner||M){var a="fail",b=e.defer();return b.reject({data:{message:a}}),b.promise}M=!0;var c;return L._acc?(N=!1,c=L._acc.setValue(L.config)):c=f.newContent({name:J+L.key,mimetype:K}).then(function(a){return N=!1,L._acc=a,L._acc.setValue(L.config)}),c["finally"](function(){M=!1,N&&l()})}function m(b,c){var d=e.defer();return b in a.app.setting?d.resolve(a.app.setting[b]):d.resolve(c),d.promise}function n(b,c){var d=e.defer();return a.app.setting[b]=c,d.resolve(c),d.promise}function o(){return b.session()}function p(){var a=e.defer();return a.resolve(L.user.anonymous),a.promise}function q(){var a=e.defer();return a.resolve(L.user.owner),a.promise}function r(){var a=e.defer();return a.resolve(L.user.member),a.promise}function s(){var a=e.defer();return a.resolve(authorized),a.promise}function t(a){return b.login(a).then(v).then(x)}function u(){return b.logout().then(v).then(x)}function v(){return w("loading user info","fetch user information"),b.session().then(function(a){return L.user.current=a,L.user.administrator=a.isAdministrator(),L.user.anonymous=a.isAnonymous(),w("loading user info","user information loaded successfully"),w("loading user info","check user permissions"),c.monitor("user","owner").then(function(a){return a.refresh()}).then(function(a){L.user.owner=a.value})},function(a){w("loading user info","warning: "+a.message)})}function w(a,b){L.state.stage=a,L.state.message=b,b&&L.logs.push(b)}function x(){return"fail"!==L.state.status?L.user.anonymous?void(L.state.status="anonymous"):void(L.state.status="ready"):void 0}function y(a){L.state.status="loading",w("starting application","loading application"),L.key=a;var b=[];return b.push(v()),b.push(k()),e.all(b).then(x)["catch"](function(){})["finally"](function(){"fail"!==L.state.status&&w("starting application","application is started successfully")})}function z(){return e.when({items:O})}function A(a){O.push(a)}function B(a){for(var b=0;b<O.length;b++)if(O[b].id===a)return e.when(O[b]);return e.reject("Toolbar not found")}function C(){return e.when({items:P})}function D(a){P.push(a)}function E(a){for(var b=0;b<P.length;b++)if(P[b].id===a)return e.when(P[b]);return e.reject("Sidenav not found")}function F(a){return Q=a||[],this}function G(){return Q}function H(a){return R=a||[],this}function I(){return R}var J="angular-material-blowfish-",K="application/amd-cnf",L={state:{status:"loading",stage:"starting",message:null},logs:[],user:{current:{},anonymous:!0,administrator:!1,owner:!1,member:!1,authorized:!1},config:{},jobs:[],setting:{}},M=!1,N=!1;a.$watch("app.config",function(){return L.user.owner&&(N=!0,!M)?l():void 0},!0),a.$watch(function(){return L.setting.dir||L.config.dir},function(a){L.dir=L.setting.dir||L.config.dir}),a.$watch(function(){return L.setting.local||L.config.local||"en"},function(a){L.local=a,g.use(a),moment.loadPersian(),moment.locale(a);var b=moment.localeData();h.months=b._months,h.shortMonths=b._monthsShort,h.days=b._weekdays,h.shortDays=b._weekdaysMin,h.firstDayOfWeek=b._week.dow}),a.$watch(function(){return L.setting.calendar||L.config.calendar||"Gregorian"},function(a){L.calendar=a});var O=[],P=[],Q=[],R=[];a.app=L;var S={};return S.start=y,S.login=t,S.logout=u,S.currentUser=o,S.isAnonymous=p,S.isOwner=q,S.isMember=r,S.isAuthorized=s,S.config=i,S.setConfig=j,S.loadConfig=k,S.storeConfig=l,S.setting=m,S.setSetting=n,S.toolbars=z,S.newToolbar=A,S.toolbar=B,S.setDefaultToolbars=F,S.defaultToolbars=G,S.sidenavs=C,S.newSidenav=D,S.sidenav=E,S.setDefaultSidenavs=H,S.defaultSidenavs=I,S}]),angular.module("mblowfish-core").service("$amdExport",["FileSaver","$q","PaginatorParameter",function(a,b,c){function d(b,d,e,f,g){function h(a){var b="";return angular.forEach(a.items,function(a){var c="";angular.forEach(k,function(b){c=c+(a[b]||" ")+","}),b=b+c.slice(0,-1)+"\n"}),b}function i(c){if(l+=h(c),!c.hasMore()){var e=new Blob([l],{type:"text/plain;charset=utf-8"});return a.saveAs(e,g+"."+f)}return j.setPage(c.next()),d.apply(b,[j]).then(i)}var j=new c;j.put("_px_q ",e.get("_px_q")),j.put("_px_sk ",e.get("_px_sk")),j.put("_px_so ",e.get("_px_so")),j.put("_px_fk ",e.get("_px_fk")),j.put("_px_fv ",e.get("_px_fv")),j.setPage(0);var k,l="";return d.apply(b,[j]).then(function(a){if(!k){var b=Object.keys(a.items[0]);k=[],angular.forEach(b,function(b){angular.isFunction(a.items[0][b])||angular.isObject(a.items[0][b])||k.push(b)})}var c="";return angular.forEach(k,function(a){c=c+a+","}),l=c.slice(0,-1)+"\n",i(a)})}return{list:d}}]),angular.module("mblowfish-core").service("$help",["$q","$navigator","$rootScope",function(a,b,c){function d(a){return i.push(a),this}function e(){return a.resolve({items:i})}function f(){return j}function g(a){j=a}function h(a){g(a),c.showHelp=!0}var i=[],j=null;return{tip:d,tips:e,currentItem:f,setCurrentItem:g,openHelp:h}}]),angular.module("mblowfish-core").service("$navigator",["$q","$route","$mdDialog","$location","$window",function(a,b,c,d,e){function f(a){return setTimeout(function(){deferred.notify("about to search items."),deferred.resolve(g(a))},100),deferred.promise}function g(a){var b=o;return a&&a.param._px_fk&&(b=[],"group"===a.param._px_fk&&angular.forEach(o,function(c){c.groups&&angular.isArray(c.groups)&&c.groups.indexOf(a.param._px_fv)>-1&&b.push(c)})),b}function h(a){return a.priority=a.priority||100,o.push(a),this}function i(a){return p}function j(a){a.id in p||(p[a.id]={id:a.id}),angular.merge(p[a.id],a)}function k(a){return a in p||(p[a]={id:a}),p[a]}function l(a){var b={};return angular.extend(b,{controller:"AmdNavigatorDialogCtrl",parent:angular.element(document.body),clickOutsideToClose:!0,fullscreen:!0},a),b.config||(b.config={}),b.locals||(b.locals={}),b.locals.config=b.config,c.show(b)}function m(a,b){a&&a.toLowerCase().startsWith("http")&&e.open(a),b?d.path(a).search(b):d.path(a)}function n(a){return!1}var o=[],p=[];return{loadAllItems:f,openDialog:l,openPage:m,isPageSelected:n,items:g,newItem:h,groups:i,newGroup:j,group:k}}]),angular.module("mblowfish-core").service("$notification",["$navigator","$mdToast",function(a,b){function c(b){return a.openDialog({templateUrl:"views/dialogs/mb-alert.html",config:{message:b}})}function d(b){return a.openDialog({templateUrl:"views/dialogs/mb-confirm.html",config:{message:b}})}function e(b,c){return a.openDialog({templateUrl:"views/dialogs/mb-prompt.html",config:{message:b,model:c}})}function f(a){return b.show(b.simple().textContent(a).hideDelay(3e3))}return{toast:f,alert:c,prompt:e,confirm:d}}]),angular.module("mblowfish-core").service("$options",["$q","$navigator",function(a,b){function c(){return a.when({items:f})}function d(b){for(var c=0;c<f.length;c++)if(f[c].id==b)return a.when(f[c]);return a.reject({})}function e(a){return f.push(a),g}var f=[],g={pages:c,page:d,newPage:e};return g}]),angular.module("mblowfish-core").service("$preferences",["$q","$navigator",function(a,b){function c(){return h.sort(d),a.when({items:h})}function d(a,b){return a.priority===b.priority?0:"first"===a.priority||"last"===b.priority?-1:"last"===a.priority||"first"===b.priority?1:"undefined"==typeof a.priority?1:"undefined"==typeof b.priority?-1:a.priority-b.priority}function e(b){for(var c=0,d=h.length;d>c;c++)if(h[c].id===b)return a.when(h[c]);return a.reject({message:"Not found"})}function f(a){return b.openPage("/preferences/"+a.id)}function g(a){return h.push(a),this}var h=[];return{pages:c,page:e,newPage:g,openPage:f}}]),angular.module("mblowfish-core").run(["$templateCache",function(a){a.put("views/dialogs/mb-alert.html",'<md-dialog ng-cloak> <md-toolbar> <div class=md-toolbar-tools> <wb-icon>error</wb-icon> <h2 translate>{{app.title}}</h2> <span flex></span> <md-button class=md-icon-button ng-click=cancel()> <wb-icon aria-label="Close dialog">close</wb-icon> </md-button> </div> </md-toolbar> <md-dialog-content layout=row layout-align="center center" flex> <p translate>{{config.message}}</p> </md-dialog-content> </md-dialog>'),a.put("views/dialogs/mb-confirm.html",'<md-dialog ng-cloak> <md-toolbar> <div class=md-toolbar-tools> <wb-icon>warning</wb-icon> <h2 translate>{{app.title}}</h2> <span flex></span> <md-button class=md-icon-button ng-click=answer(true)> <wb-icon aria-label="Close dialog">done</wb-icon> </md-button> <md-button class=md-icon-button ng-click=cancel()> <wb-icon aria-label="Close dialog">close</wb-icon> </md-button> </div> </md-toolbar> <md-dialog-content layout=row layout-align="center center" flex> <p translate>{{config.message}}</p> </md-dialog-content> </md-dialog>'),a.put("views/dialogs/mb-prompt.html",'<md-dialog ng-cloak> <md-toolbar> <div class=md-toolbar-tools> <wb-icon>input</wb-icon> <h2 translate>{{app.title}}</h2> <span flex></span> <md-button class=md-icon-button ng-click=answer(config.model)> <wb-icon aria-label="Close dialog">done</wb-icon> </md-button> <md-button class=md-icon-button ng-click=cancel()> <wb-icon aria-label="Close dialog">close</wb-icon> </md-button> </div> </md-toolbar> <md-dialog-content layout=column layout-align="center stretch" layout-padding flex> <p translate>{{config.message}}</p> <md-input-container class=md-block> <label translate>Input value</label> <input ng-model=config.model> </md-input-container> </md-dialog-content> </md-dialog>'),a.put("views/directives/mb-captcha.html","<div>  <div vc-recaptcha ng-model=ctrl.captchaValue theme=\"app.captcha.theme || 'light'\" type=\"app.captcha.type || 'image'\" key=app.captcha.key lang=\"app.captcha.language || 'fa'\"> </div>  </div>"),a.put("views/directives/mb-dynamic-tabs.html",'<div layout=column> <md-tabs md-selected=pageIndex> <md-tab ng-repeat="tab in mbTabs"> <span translate>{{tab.title}}</span> </md-tab> </md-tabs> <div id=mb-dynamic-tabs-select-resource-children> </div> </div>'),a.put("views/directives/mb-navigation-bar.html","<div class=mb-navigation-path-bar md-colors=\"{'background-color': 'primary'}\" layout=row> <div layout=row> <md-button ng-click=goToHome() class=\"mb-navigation-path-bar-item mb-navigation-path-bar-item-home\"> <md-tooltip ng-if=menu.tooltip>{{'home' | translate}}</md-tooltip> <wb-icon>home</wb-icon> </md-button> <wb-icon ng-if=pathMenu.items.length>chevron_left</wb-icon> </div> <div layout=row data-ng-repeat=\"menu in pathMenu.items | orderBy:['-priority']\"> <md-button ng-show=isVisible(menu) ng-href={{menu.url}} ng-click=menu.exec($event); class=mb-navigation-path-bar-item> <md-tooltip ng-if=menu.tooltip>{{menu.description}}</md-tooltip> <wb-icon ng-if=menu.icon>{{menu.icon}}</wb-icon> {{menu.title | translate}} </md-button> <wb-icon ng-show=\"$index &lt; pathMenu.items.length - 1\">chevron_left</wb-icon> </div> </div>"),a.put("views/directives/mb-pagination-bar.html",'<div>  <md-toolbar ng-show=!(showSearch||showSort||showState)> <div class=md-toolbar-tools> <md-button ng-if=mbIcon md-no-ink class=md-icon-button aria-label={{mbIcon}}> <wb-icon>{{mbIcon}}</wb-icon> </md-button> <h2 flex md-truncate ng-show=mbTitle>{{mbTitle}}</h2> <md-button ng-if=reload class=md-icon-button aria-label=Reload ng-click=reload()> <wb-icon>repeat</wb-icon> </md-button> <md-button ng-show=mbSortKeys class=md-icon-button aria-label=Sort ng-click="showSort = !showSort"> <wb-icon>sort</wb-icon> </md-button> <md-button ng-show=mbEnableSearch class=md-icon-button aria-label=Search ng-click="showSearch = !showSearch"> <wb-icon>search</wb-icon> </md-button> <md-button ng-if=exportData class=md-icon-button aria-label=Export ng-click=exportData()> <wb-icon>save</wb-icon> </md-button> <md-menu ng-show=mbMoreActions.length> <md-button aria-label="Open phone interactions menu" class=md-icon-button ng-click=$mdOpenMenu($event)> <wb-icon>more_vert</wb-icon> </md-button> <md-menu-content width=4> <md-menu-item ng-repeat="item in mbMoreActions"> <md-button ng-click=item.action()> <wb-icon ng-show=item.icon>{{item.icon}}</wb-icon> <span translate>{{ item.title }}</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </md-toolbar>  <md-toolbar class=md-hue-1 ng-show="showSearch && mbEnableSearch"> <div class=md-toolbar-tools> <md-button ng-click="showSearch = !showSearch" aria-label=Back> <wb-icon>arrow_back</wb-icon> </md-button> <h3 flex=10 translate>Back</h3> <md-input-container md-theme=input flex> <label>&nbsp;</label> <input ng-model=temp.query ng-keyup="$event.keyCode == 13 ? query.searchTerm=temp.query : null"> </md-input-container> <md-button aria-label=Search ng-click="showSearch = !showSearch"> <wb-icon>search</wb-icon> </md-button> </div> </md-toolbar>  <md-toolbar class=md-hue-1 ng-show=showSort> <div class=md-toolbar-tools> <md-button ng-click="showSort = !showSort"> <wb-icon>arrow_back</wb-icon> </md-button> <md-switch ng-model=query.sortDesc aria-label=DESC> DESC sort order </md-switch> <span flex=10></span> <div layout=row layout-align="space-between center"> <span translate>Sort by : </span> <md-select ng-model=query.sortBy> <md-option ng-repeat="key in mbSortKeys" value={{key}} translate>{{key}}</md-option> </md-select> </div> </div> </md-toolbar> </div>'),a.put("views/directives/mb-panel.html",'<div id=mb-panel-root md-theme="{{app.setting.theme || app.config.theme || \'default\'}}" md-theme-watch ng-class="{\'mb-rtl-direction\': app.dir==\'rtl\', \'mb-ltr-direction\': app.dir!=\'rtl\'}" dir={{app.dir}} layout=column layout-fill>  <div id=mb-panel-root-ready mb-panel-toolbar-anchor ng-if="status === \'ready\'" layout=column layout-fill>   <div id=mb-panel-root-ready-anchor mb-panel-sidenav-anchor layout=row flex> <md-whiteframe layout=row id=main class="md-whiteframe-24dp main mb-page-content" ng-view flex> </md-whiteframe> </div> </div> <div id=mb-panel-root-access-denied ng-if="status === \'accessDenied\'" layout=column layout-fill> Access Denied </div> <div ng-if="status === \'loading\'" layout=column layout-align="center center" layout-fill> <h4 translate>{{app.state.stage}}</h4> <p translate>{{app.state.message}}</p> <md-progress-linear style="width: 50%" md-mode=indeterminate> </md-progress-linear> <md-button ng-if="app.state.status === \'fail\'" class="md-raised md-primary" ng-click=restart() aria-label=Retry> <wb-icon>replay</wb-icon> retry </md-button> </div> <div ng-if="status === \'login\'" layout=row layout-aligne=none layout-align-gt-sm="center center" ng-controller=MbAccountCtrl flex> <div md-whiteframe=3 flex=100 flex-gt-sm=50 layout=column mb-preloading=ctrl.loadUser>  <md-toolbar layout=row layout-padding>  <img width=160 height=160 ng-show=app.config.logo ng-src="{{app.config.logo}}"> <p> <strong>{{app.config.title}}</strong><br> <em>{{app.config.description}}</em> </p> </md-toolbar>  <div ng-show=errorMessage> {{errorMessage}} </div> <form name=loginForm ng-submit=login(credit) layout=column layout-padding> <md-input-container> <label translate>Username</label> <input name=login ng-model=credit.login required> <div ng-messages=loginForm.login.$error> <div ng-message=required translate>This is required!</div> </div> </md-input-container> <md-input-container> <label translate>Password</label> <input name=password ng-model=credit.password type=password required> <div ng-messages=loginForm.password.$error> <div ng-message=required translate>This is required!</div> </div> </md-input-container> <div layout=column layout-align=none layout-gt-sm=row layout-align-gt-sm="space-between center" layout-padding> <div layout=column flex-order=1 flex-order-gt-sm=-1>  </div>      <div ng-if="app.captcha.engine===\'recaptcha\' && app.captcha.recaptcha.key" vc-recaptcha ng-model=credit.g_recaptcha_response theme="app.captcha.theme || \'light\'" type="app.captcha.type || \'image\'" key=app.captcha.recaptcha.key lang="app.setting.local || app.config.local || \'en\'"> </div> <input hide type="submit"> <md-button flex-order=0 class="md-primary md-raised" ng-click=login(credit)><span translate>Login</span></md-button> </div> </form> </div> </div> </div>'),a.put("views/directives/mb-preference-page.html","<div> <div id=mb-preference-body> <div id=mb-preference-placeholder> </div> </div> </div>"),a.put("views/directives/mb-titled-block.html",'<div style="border-radius: 5px; margin: 5px 5px 10px 10px; padding: 0px" md-whiteframe=4> <md-toolbar style="border-top-left-radius: 5px;border-top-right-radius: 5px; margin: 0px; padding: 0px"> <div layout=row layout-align="start center" class=md-toolbar-tools> <wb-icon ng-if=amdIcon>{{amdIcon}}</wb-icon> <h3>{{amdTitle}}</h3> </div> </md-toolbar> <md-progress-linear ng-if=amdProgress style="margin: 0px; padding: 0px" md-mode=indeterminate class=md-warn md-color> </md-progress-linear> <div style="margin: 8px" ng-transclude></div> </div>'),a.put("views/directives/mb-tree-heading.html",'<h2 md-colors="{color: \'primary.A100\'}" class="mb-tree-heading md-subhead"> <wb-icon ng-if=mbSection.icon>{{mbSection.icon}}</wb-icon> {{mbSection.title}} </h2>'),a.put("views/directives/mb-tree-link.html","<md-button md-colors=\"{backgroundColor: (isSelected(mbSection.state) || $state.includes(mbSection.state)) ? 'primary.800': 'primary'}\" class=\"md-raised md-primary md-hue-1\" ng-click=focusSection(mbSection)> <wb-icon ng-if=mbSection.icon>{{mbSection.icon}}</wb-icon> <span translate>{{mbSection.title}}</span> <span class=md-visually-hidden ng-if=isSelected(mbSection)> current page </span> </md-button>"),a.put("views/directives/mb-tree-toggle.html",'<div> <md-button class="md-raised md-primary md-hue-1 md-button-toggle" ng-click=toggle(mbSection) aria-controls=docs-menu-{{section.name}} aria-expanded={{isOpen(mbSection)}}> <div flex layout=row> <wb-icon ng-if=mbSection.icon>{{mbSection.icon}}</wb-icon> <span class=mb-toggle-title translate>{{mbSection.title}}</span> <span flex></span> <span aria-hidden=true class=md-toggle-icon ng-class="{toggled : isOpen(mbSection)}"> <wb-icon>keyboard_arrow_up</wb-icon> </span> </div> <span class=md-visually-hidden> Toggle {{isOpen(mbSection)? expanded : collapsed}} </span> </md-button> <ul id=docs-menu-{{mbSection.title}} class=mb-tree-toggle-list> <li ng-repeat="section in mbSection.sections" ng-if=isVisible(section)> <mb-tree-link mb-section=section ng-if="section.type === \'link\'"> </mb-tree-link> </li> </ul> </div>'),a.put("views/directives/mb-tree.html","<ul class=mb-tree> <li md-colors=\"{borderBottomColor: 'background-600'}\" ng-repeat=\"section in mbSection.sections | orderBy : 'priority'\" ng-if=isVisible(section)> <mb-tree-heading mb-section=section ng-if=\"section.type === 'heading'\"> </mb-tree-heading> <mb-tree-link mb-section=section ng-if=\"section.type === 'link'\"> </mb-tree-link> <mb-tree-toggle mb-section=section ng-if=\"section.type === 'toggle'\"> </mb-tree-toggle>                </li> </ul>"),a.put("views/directives/mb-user-menu.html",'<div md-colors="{\'background-color\': \'primary-400\'}" class=amd-user-menu> <md-menu md-offset="0 20"> <md-button class=amd-user-menu-button ng-click=$mdOpenMenu() aria-label="Open menu"> <img height=32px class=img-circle ng-src={{app.user.current.avatar}}> <span>{{app.user.current.first_name}} {{app.user.current.last_name}}</span> <wb-icon class=material-icons>keyboard_arrow_down</wb-icon> </md-button> <md-menu-content width=3>  <md-menu-item ng-if=menu.items.length ng-repeat="item in menu.items | orderBy:[\'-priority\']"> <md-button ng-click=item.exec($event) translate> <wb-icon ng-if=item.icon>{{item.icon}}</wb-icon> <span ng-if=item.title translate="">{{item.title}}</span> </md-button> </md-menu-item> <md-menu-divider ng-if=menu.items.length></md-menu-divider> <md-menu-item> <md-button ng-click=settings() translate>Settings</md-button> </md-menu-item> <md-menu-item> <md-button ng-click=logout() translate>Log out</md-button> </md-menu-item> </md-menu-content> </md-menu> </div>'),a.put("views/directives/mb-user-toolbar.html",'<md-toolbar layout=row layout-align="center center"> <img width=80px class=img-circle ng-src={{app.user.current.avatar}}> <md-menu md-offset="0 20"> <md-button class=capitalize ng-click=$mdOpenMenu() aria-label="Open menu"> <span>{{app.user.current.first_name}} {{app.user.current.last_name}}</span> <wb-icon class=material-icons>keyboard_arrow_down</wb-icon> </md-button> <md-menu-content width=3>  <md-menu-item ng-if=menu.items.length ng-repeat="item in menu.items | orderBy:[\'-priority\']"> <md-button ng-click=item.exec($event) translate> <wb-icon ng-if=item.icon>{{item.icon}}</wb-icon> <span ng-if=item.title translate>{{item.title}}</span> </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click=toggleRightSidebar();logout(); translate>Log out</md-button> </md-menu-item> </md-menu-content> </md-menu> </md-toolbar>'),a.put("views/mb-error-messages.html",'<div ng-message=403 layout=column layout-align="center center"> <wb-icon size=64px>do_not_disturb</wb-icon> <strong translate>Access denied</strong> <p translate>You are not allowed to access this item.</p> </div> <div ng-message=404 layout=column layout-align="center center"> <wb-icon size=64px>visibility_off</wb-icon> <strong translate>Not found</strong> <p translate>Requested item not found.</p> </div> <div ng-message=500 layout=column layout-align="center center"> <wb-icon size=64px>bug_report</wb-icon> <strong translate>Server error</strong> <p translate>An internal server error is occurred.</p> </div>'),a.put("views/mb-initial.html",'<md-content layout=column flex> <mb-preference-page mb-preference-id=pageId> </mb-preference-page> <md-stepper id=setting-stepper ng-show=app.initial md-mobile-step-text=false md-vertical=false md-linear=false md-alternative=true> <md-step md-label={{item.title}} ng-repeat="item in settings"> <md-step-actions layout=row> <md-button ng-show="$index !== 0" class="md-primary md-raised" ng-click=prevStep() translate>back</md-button> <div flex></div> <md-button ng-show="$index < settings.length-1" class="md-primary md-raised" ng-click=nextStep() translate>next</md-button> <md-button ng-show="$index === settings.length-1" class="md-primary md-raised" ng-href="/" translate>go to site</md-button> </md-step-actions> </md-step> </md-stepper> </md-content>'),a.put("views/mb-passowrd-recover.html",' <md-toolbar layout-padding>  <h3>Forget Your PassWord ?</h3> </md-toolbar>  <div layout=column layout-padding> <md-input-container> <label>Username or Email</label> <input ng-model=credit.login required> </md-input-container> </div> <div layout=column layout-align=none layout-gt-sm=row layout-align-gt-sm="space-between center" layout-padding> <a ui-sref=login flex-order=1 flex-order-gt-sm=-1>Back To Login Page</a> <md-button flex-order=0 class="md-primary md-raised" ng-click=login(credit)>Send</md-button> </div>'),a.put("views/mb-preference.html","<md-content ng-cloak flex> <table> <tr> <td> <wb-icon wb-icon-name={{preference.icon}} size=128> </wb-icon> </td> <td> <h1 translate>{{preference.title}}</h1> <p translate>{{preference.description}}</p> </td> </tr> </table> <mb-preference-page mb-preference-id=preference.id> </mb-preference-page> </md-content>"),a.put("views/mb-preferences.html",'<md-content ng-cloak layout-padding flex> <md-grid-list md-cols-gt-md=4 md-cols=2 md-cols-md=3 md-row-height=4:3 md-gutter-gt-md=16px md-gutter-md=8px md-gutter=4px> <md-grid-tile ng-repeat="tile in preferenceTiles" md-colors="{backgroundColor: \'primary-300\'}" md-colspan-gt-sm={{tile.colspan}} md-rowspan-gt-sm={{tile.rowspan}} ng-click=openPreference(tile) style="cursor: pointer"> <md-grid-tile-header> <h3 style="text-align: center;font-weight: bold"> <wb-icon>{{tile.page.icon}}</wb-icon> {{tile.page.title}} </h3> </md-grid-tile-header> <p style="text-align: justify" layout-padding> {{tile.page.description}} </p> </md-grid-tile> </md-grid-list> </md-content>'),a.put("views/options/mb-local.html","<md-divider></md-divider> <md-input-container class=md-block> <label translate>Language&Local</label> <md-select ng-model=app.setting.local> <md-option value=fa translate>Persian</md-option> <md-option value=en translate>English</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Direction</label> <md-select ng-model=app.setting.dir placeholder=Direction> <md-option value=rtl translate>Right to left</md-option> <md-option value=ltr translate>Left to right</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Calendar</label> <md-select ng-model=app.setting.calendar placeholder=\"\"> <md-option value=Gregorian translate>Gregorian</md-option> <md-option value=Jalaali translate>Jalaali</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Date format</label> <md-select ng-model=app.setting.dateFormat placeholder=\"\"> <md-option value=jMM-jDD-jYYYY translate> {{'2018-01-01' | mbDate:'jMM-jDD-jYYYY'}} </md-option> <md-option value=jYYYY-jMM-jDD translate> {{'2018-01-01' | mbDate:'jYYYY-jMM-jDD'}} </md-option> <md-option value=\"jYYYY jMMMM jDD\" translate> {{'2018-01-01' | mbDate:'jYYYY jMMMM jDD'}} </md-option> </md-select> </md-input-container>"),a.put("views/options/mb-theme.html",'<md-input-container class=md-block> <label translate>Theme</label> <md-select ng-model=app.setting.theme> <md-option ng-repeat="theme in themes" value={{theme.id}} translate>{{theme.label}}</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <md-switch class=md-primary name=special ng-model=app.setting.navigationPath> <sapn flex translate>Navigation path</sapn> </md-switch> </md-input-container>'),a.put("views/preferences/congratulate.html",' <md-content layout=column layout-align=none layout-align-gt-sm="none center" flex> <div flex=none layout=column layout-padding> <h1 translate>Congratulate :)</h1> <p translate> Congratulate, your site is ready. You can start design your site. </p> </div> </md-content>'),a.put("views/preferences/mb-brand.html",'<div layout=column ng-cloak flex> <md-input-container class=md-block> <label translate>Title</label> <input required md-no-asterisk name=title ng-model="app.config.title"> </md-input-container> <md-input-container class=md-block> <label translate>Description</label> <input md-no-asterisk name=description ng-model="app.config.description"> </md-input-container> <wb-ui-setting-image title=Logo value=app.config.logo> </wb-ui-setting-image> </div>'),a.put("views/preferences/mb-google-analytic.html",'<div layout=column ng-cloak flex> <md-input-container class=md-block> <label>Google analytic property</label> <input required md-no-asterisk name=property ng-model="app.config.googleAnalytic.property"> </md-input-container> </div>'),a.put("views/preferences/mb-local.html","<div layout=column ng-cloak flex> <md-input-container class=md-block> <label translate>Language</label> <md-select ng-model=app.config.local> <md-option value=fa translate>Persian</md-option> <md-option value=en translate>English</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Direction</label> <md-select ng-model=app.config.dir placeholder=Direction> <md-option value=rtl translate>Right to left</md-option> <md-option value=ltr translate>Left to right</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Calendar</label> <md-select ng-model=app.config.calendar placeholder=\"\"> <md-option value=Gregorian translate>Gregorian</md-option> <md-option value=Jalaali translate>Jalaali</md-option> </md-select> </md-input-container> <md-input-container class=md-block> <label translate>Date format</label> <md-select ng-model=app.config.dateFormat placeholder=\"\"> <md-option value=jMM-jDD-jYYYY translate> {{'2018-01-01' | mbDate:'jMM-jDD-jYYYY'}} </md-option> <md-option value=jYYYY-jMM-jDD translate> {{'2018-01-01' | mbDate:'jYYYY-jMM-jDD'}} </md-option> <md-option value=\"jYYYY jMMMM jDD\" translate> {{'2018-01-01' | mbDate:'jYYYY jMMMM jDD'}} </md-option> </md-select> </md-input-container> </div>"),a.put("views/preferences/update.html","<md-switch class=md-secondary ng-model=app.config.update.hideMessage> <p translate>Show update message to customers</p> </md-switch> <md-switch class=md-secondary ng-model=app.config.update.autoCheck> <p translate>Check update automaticlly</p> </md-switch>"),a.put("views/preferences/welcome.html",' <md-content layout=column layout-align=none layout-align-gt-sm="none center" flex> <div flex=none layout=column layout-padding> <h1 translate>Welcome</h1> <p translate> It is your site. You should determine some little settings before launch your site. After that your site is ready. These settings and some more could be set at future in settings section of your site. If you are not login please login to change settings. </p> </div> <div flex=none layout=column>  <form ng-show=app.user.anonymous style="border: solid 1px" md-colors="{borderColor:\'default-primary-100\'}" name=form ng-submit=login(credit) layout=column layout-padding> <div layout-padding> <p><span md-colors="{color:\'default-warn\'}" translate>{{loginMessage}}</span></p> </div> <md-input-container> <label translate>username or email</label> <input ng-model=credit.login required> </md-input-container> <md-input-container> <label translate>password</label> <input ng-model=credit.password required type=password> </md-input-container>     <div ng-if="app.captcha.engine===\'recaptcha\'" vc-recaptcha ng-model=credit.g_recaptcha_response theme="app.captcha.theme || \'light\'" type="app.captcha.type || \'image\'" key=app.captcha.recaptcha.key lang="app.captcha.language || \'fa\'"> </div> <input hide type="submit"> <div layout=column layout-align=none layout-gt-xs=row layout-align-gt-xs="center center" layout-padding> <md-button ng-disabled=form.$invalid flex-order=-1 flex-order-gt-xs=1 class="md-primary md-raised" ng-click=login(credit)>{{\'login\' | translate}}</md-button> </div> </form> <div layout-padding ng-show=!app.user.anonymous layout=column layout-align="none center"> <img width=150px height=150px ng-show=!uploadAvatar ng-src="{{app.user.current.avatar}}"> <h3>{{app.user.current.login}}</h3> <p translate>continue to set some options and settings.</p> </div> </div> </md-content>'),
a.put("views/resources/mb-sidenav.html",""),a.put("views/sidenavs/mb-help.html",'<md-toolbar class=md-hue-1 layout=column layout-align=center> <div layout=row layout-align="start center"> <md-button class=md-icon-button aria-label=Close ng-click=closeHelp()> <wb-icon>close</wb-icon> </md-button> <span flex></span> <h4 translate>Help</h4> </div> </md-toolbar> <md-content flex> <wb-content wb-model=helpContent></wb-content> </md-content>'),a.put("views/sidenavs/mb-navigator.html",'<md-toolbar class=md-whiteframe-z2 layout=column layout-align="start center"> <img width=128px height=128px ng-show=app.config.logo ng-src="{{app.config.logo}}"> <strong>{{app.config.title}}</strong> <p style="text-align: center">{{app.config.description}}</p> </md-toolbar> <md-content md-colors="{backgroundColor: \'primary\'}" flex> <mb-tree mb-section=menuItems> </mb-tree> </md-content>'),a.put("views/sidenavs/mb-options.html"," <mb-user-toolbar mb-actions=userActions> </mb-user-toolbar>  <md-content layout-padding> <mb-dynamic-tabs mb-tabs=tabs> </mb-dynamic-tabs> </md-content>"),a.put("views/toolbars/mb-dashboard.html",'<div layout=row layout-align="start center"> <md-button class=md-icon-button hide-gt-sm ng-click=toggleNavigationSidenav() aria-label=Menu> <wb-icon>menu</wb-icon> </md-button> <img hide-gt-sm height=32px ng-if=app.config.logo ng-src="{{app.config.logo}}"> <strong hide-gt-sm style="padding: 0px 8px 0px 8px"> {{app.config.title}} </strong> <mb-navigation-bar hide show-gt-sm ng-show=app.setting.navigationPath> </mb-navigation-bar> </div> <div layout=row layout-align="end center">  <md-button ng-repeat="menu in scopeMenu.items | orderBy:[\'-priority\']" ng-show=menu.visible() ng-href={{menu.url}} ng-click=menu.exec($event); class=md-icon-button> <md-tooltip ng-if=menu.tooltip>{{menu.description}}</md-tooltip> <wb-icon ng-if=menu.icon>{{menu.icon}}</wb-icon> </md-button> <md-divider ng-if=scopeMenu.items.length></md-divider> <md-button ng-repeat="menu in toolbarMenu.items | orderBy:[\'-priority\']" ng-show=menu.visible() ng-href={{menu.url}} ng-click=menu.exec($event); class=md-icon-button> <md-tooltip ng-if=menu.tooltip>{{menu.description}}</md-tooltip> <wb-icon ng-if=menu.icon>{{menu.icon}}</wb-icon> </md-button>             <mb-user-menu></mb-user-menu> <md-button ng-repeat="menu in userMenu.items | orderBy:[\'-priority\']" ng-show=menu.visible() ng-click=menu.exec($event) class=md-icon-button> <md-tooltip ng-if=menu.tooltip>{{menu.tooltip}}</md-tooltip> <wb-icon ng-if=menu.icon>{{menu.icon}}</wb-icon> </md-button> </div>')}]);